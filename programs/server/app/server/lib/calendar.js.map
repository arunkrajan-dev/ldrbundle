{"version":3,"sources":["meteor://ðŸ’»app/server/lib/calendar.js"],"names":[],"mappings":"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","file":"/server/lib/calendar.js","sourcesContent":["\nthis.insertCalEvent = function (id, s, d, l, sd, ed) {\n    var url = \"https://www.googleapis.com/calendar/v3/calendars/primary/events\";\n    console.log(\"Giigke cakebder ubser event\");\n    try {\n    Meteor.http.post(url, {\n        'headers' : { \n          'Authorization': \"Bearer \" + Meteor.user().services.google.accessToken,\n          'Content-Type': 'application/json' \n        },\n        'data': {\n          \"id\":id.toLowerCase(),\n          \"summary\": \"Ldr:\" + s,\n          \"description\": d,\n          \"location\": l,\n          \"start\": {\n            \"dateTime\": moment(sd).format(\"YYYY-MM-DDTHH:mm:ssZ\"),\n          },\n          \"end\": {\n            \"dateTime\": moment(sd).format(\"YYYY-MM-DDTHH:mm:ssZ\"),\n          },\n        }\n      });\n    } catch(e){\n        console.log(\"Error in calendar insert: \" + e);\n    } finally {\n      return true;  \n    }\n}; \n\nthis.updateCalEvent = function (id, s, d, l, sd, ed) {\n    var url = \"https://www.googleapis.com/calendar/v3/calendars/primary/events/\" + id.toLowerCase();\n    console.log(\"google calender update event \" + url);\n    try {\n    Meteor.http.put(url, {\n        'headers' : { \n          'Authorization': \"Bearer \" + Meteor.user().services.google.accessToken,\n          'Content-Type': 'application/json' \n        },\n        'data': {\n          //\"id\":id.toLowerCase(),\n          \"summary\": \"LDR:\" + s,\n          \"description\": d,\n          \"location\": l,\n          \"start\": {\n            \"dateTime\": moment(sd).format(\"YYYY-MM-DDTHH:mm:ssZ\"),\n          },\n          \"end\": {\n            \"dateTime\": moment(sd).format(\"YYYY-MM-DDTHH:mm:ssZ\"),\n          },\n        }\n      });\n    } catch(e) {\n        console.log(\"Error in calendar update: \" + e);\n    } finally {\n      return true;  \n    }\n    \n}; \n\nthis.removeCalEvent = function (id) {\n    var url = \"https://www.googleapis.com/calendar/v3/calendars/primary/events/\" + id.toLowerCase();\n    console.log(\"google calender remove event \" + url);\n    try {\n    Meteor.http.del(url, {\n        'headers' : { \n          'Authorization': \"Bearer \" + Meteor.user().services.google.accessToken,\n          'Content-Type': 'application/json' \n        }\n      });\n    return true;\n    } catch(e) {\n      console.log(\"Error in reomve calendar event: \" + e);\n    } finally {\n      return true;\n    }\n}; "]}