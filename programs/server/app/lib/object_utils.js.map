{"version":3,"sources":["meteor://ðŸ’»app/lib/object_utils.js"],"names":[],"mappings":"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","file":"/lib/object_utils.js","sourcesContent":["/*\n   Returns property value, where property name is given as path.\n\n   Example:\n\n       getPropertyValue(\"x.y.z\", {x: { y: { z: 123}}});\n*/\n\nthis.getPropertyValue = function(propertyName, obj) {\n\treturn propertyName.split('.').reduce(function(o, i) { return o[i]; }, obj);\t\n};\n\n\n/* \n   converts properties in format { \"x.y\": \"z\" } to { x: { y: \"z\" } }\n*/\n\nthis.deepen = function(o) {\n\tvar oo = {}, t, parts, part;\n\tfor (var k in o) {\n\t\tt = oo;\n\t\tparts = k.split('.');\n\t\tvar key = parts.pop();\n\t\twhile (parts.length) {\n\t\t\tpart = parts.shift();\n\t\t\tt = t[part] = t[part] || {};\n\t\t}\n\t\tt[key] = o[k];\n\t}\n\treturn oo;\n};\n\n/*\n\tFunction converts array of objects to csv, tsv or json string\n\n\texportFields: list of object keys to export (array of strings)\n\tfileType: can be \"json\", \"csv\", \"tsv\" (string)\n*/\n\nthis.convertArrayOfObjects = function(data, exportFields, fileType) {\n\tdata = data || [];\n\tfileType = fileType || \"csv\";\n\texportFields = exportFields || [];\n\n\tvar str = \"\";\n\t// export to JSON\n\tif(fileType == \"json\") {\n\n\t\tvar tmp = [];\n\t\t_.each(data, function(doc) {\n\t\t\tvar obj = {};\n\t\t\t_.each(exportFields, function(field) {\n\t\t\t\tobj[field] = doc[field];\n\t\t\t});\n\t\t\ttmp.push(obj);\n\t\t});\n\n\t\tstr = JSON.stringify(tmp);\n\t}\n\n\t// export to CSV or TSV\n\tif(fileType == \"csv\" || fileType == \"tsv\") {\n\t\tvar columnSeparator = \"\";\n\t\tif(fileType == \"csv\") {\n\t\t\tcolumnSeparator = \",\";\n\t\t}\n\t\tif(fileType == \"tsv\") {\n\t\t\tcolumnSeparator = \"\\t\";\n\t\t}\n\n\t\t_.each(exportFields, function(field, i) {\n\t\t\tif(i > 0) {\n\t\t\t\tstr = str + columnSeparator;\n\t\t\t}\n\t\t\tstr = str + \"\\\"\" + field + \"\\\"\";\n\t\t});\n\t\tstr = str + \"\\r\\n\";\n\n\t\t_.each(data, function(doc) {\n\t\t\t_.each(exportFields, function(field, i) {\n\t\t\t\tif(i > 0) {\n\t\t\t\t\tstr = str + columnSeparator;\n\t\t\t\t}\n\n\t\t\t\tvar value = getPropertyValue(field, doc) + \"\";\n\t\t\t\tvalue = value.replace(/\"/g, '\"\"');\n\t\t\t\tif(typeof(value) == \"undefined\")\n\t\t\t\t\tstr = str + \"\\\"\\\"\";\n\t\t\t\telse\n\t\t\t\t\tstr = str + \"\\\"\" + value + \"\\\"\";\n\t\t\t});\n\t\t\tstr = str + \"\\r\\n\";\n\t\t});\n\t}\n\n\treturn str;\n};\n"]}